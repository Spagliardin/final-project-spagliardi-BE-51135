"use strict";(self.webpackChunkfinal_project_spagliardi_FE_51135=self.webpackChunkfinal_project_spagliardi_FE_51135||[]).push([[503],{7503:(N,h,i)=>{i.r(h),i.d(h,{ProductsRoutingModule:()=>J});var p=i(7728),b=i(727),Z=i(5226),u=i.n(Z),t=i(8274),_=i(4004),m=i(2340),x=i(529),k=i(5085);let P=(()=>{class o{constructor(e){this.socket=e,this.socketStatus=!1,this.checkStatus()}checkStatus(){this.socket.on("connect",()=>{this.socketStatus=!0}),this.socket.on("disconnect",()=>{this.socketStatus=!1})}emit(e,r,s){this.socket.emit(e,r,s)}listen(e){return this.socket.fromEvent(e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(k.s))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const f=m.N.base_url,g=m.N.apis.products,S=m.N.apis.carts;let l=(()=>{class o{constructor(e,r){this.http=e,this.wsService=r}createProduct(e){const r=g.indexOf("?");return this.http.post(`${f}/${g}`.substring(0,r),e)}getProducts(e,r,s){let d=`${g}`;return e&&(d=d.concat("?",`limit=${e}`)),r&&(d=d.concat(`&page=${r}`)),s&&(d=d.concat(`&sort=${s}`)),this.http.get(`${f}/${d}`)}getProductsSocket(){return this.wsService.listen("products-list").pipe((0,_.U)(e=>e.listProducts))}addToCart(e){return this.http.post(`${f}/${S}`.replace("#cartId#","6442a40f7b7deb7e494c7a6a").replace("#productId#",e),{})}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(x.eN),t.LFG(P))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var a=i(6895),n=i(433);let v=(()=>{class o{constructor(e){this.fb=e,this.sendProduct=new t.vpe,this.productForm=this.fb.group({title:[null,n.kI.required],price:[0,n.kI.required],code:[null,n.kI.required],stock:[0,n.kI.required],category:[null,n.kI.required],status:[!0,n.kI.required],description:[null,n.kI.required]})}ngOnInit(){}createProduct(){this.productForm.invalid||this.sendProduct.emit(this.productForm.value)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(n.qu))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-creator"]],outputs:{sendProduct:"sendProduct"},decls:34,vars:2,consts:[[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-md-6"],["for","inputEmail4",1,"form-label"],["type","text","formControlName","title",1,"form-control"],["for","inputPassword4",1,"form-label"],["type","number","formControlName","price",1,"form-control"],[1,"col-12"],["for","inputAddress",1,"form-label"],["type","text","formControlName","code",1,"form-control"],["for","inputCity",1,"form-label"],["type","text","formControlName","stock",1,"form-control"],[1,"col-md-4"],["for","inputState",1,"form-label"],["type","text","formControlName","category",1,"form-control"],[1,"form-check"],["type","checkbox","formControlName","status",1,"form-check-input"],["for","gridCheck",1,"form-check-label"],[1,"mb-3"],["for","exampleFormControlTextarea1",1,"form-label"],["rows","3","formControlName","description",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,r){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return r.createProduct()}),t.TgZ(1,"div",1)(2,"label",2),t._uU(3,"Titulo"),t.qZA(),t._UZ(4,"input",3),t.qZA(),t.TgZ(5,"div",1)(6,"label",4),t._uU(7,"Precio"),t.qZA(),t._UZ(8,"input",5),t.qZA(),t.TgZ(9,"div",6)(10,"label",7),t._uU(11,"Code"),t.qZA(),t._UZ(12,"input",8),t.qZA(),t.TgZ(13,"div",1)(14,"label",9),t._uU(15,"Stock"),t.qZA(),t._UZ(16,"input",10),t.qZA(),t.TgZ(17,"div",11)(18,"label",12),t._uU(19,"Categor\xeda"),t.qZA(),t._UZ(20,"input",13),t.qZA(),t.TgZ(21,"div",6)(22,"div",14),t._UZ(23,"input",15),t.TgZ(24,"label",16),t._uU(25," Status "),t.qZA()()(),t.TgZ(26,"div",6)(27,"div",17)(28,"label",18),t._uU(29,"Description"),t.qZA(),t._UZ(30,"textarea",19),t.qZA()(),t.TgZ(31,"div",6)(32,"button",20),t._uU(33,"Create"),t.qZA()()()),2&e&&(t.Q6J("formGroup",r.productForm),t.xp6(32),t.Q6J("disabled",r.productForm.invalid))},dependencies:[n._Y,n.Fj,n.wV,n.Wl,n.JJ,n.JL,n.sg,n.u]}),o})();const T=function(o){return["/product",o]};let C=(()=>{class o{constructor(e){this.productsService=e,this.addtoCartSubscription=new b.w0}addToCart(e){this.productsService.addToCart(e).subscribe({next:()=>{u().fire({icon:"success",title:"success...",text:"Product add to Cart"})},error:r=>{u().fire({icon:"error",title:"Opss...",text:r})}})}ngOnDestroy(){this.addtoCartSubscription.unsubscribe()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-card"]],inputs:{product:"product"},decls:25,vars:8,consts:[[1,"card","pointer",2,"width","18rem"],[1,"card-body"],[1,"card-img-actions"],["src","https://via.placeholder.com/250x250/5fa9f8/ffffff","alt","...",1,"card-image","img-fluid","d-none","d-md-block","rounded","mb-2","shadow"],[1,"card-body","bg-light","text-center"],[1,"mb-2"],[1,"text-default","mb-2","pointer",3,"routerLink"],[1,"text-muted"],[1,"mb-0","font-weight-semibold"],[1,"list-group-item"],[1,"bi","bi-star-fill"],[1,"text-muted","mb-3"],["type","button",1,"btn","bg-cart",3,"click"],[1,"bi","bi-cart-plus-fill","me-2"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA()(),t.TgZ(4,"div",4)(5,"div",5)(6,"h6")(7,"a",6),t._uU(8),t.qZA()(),t.TgZ(9,"a",7),t._uU(10),t.qZA()(),t.TgZ(11,"h3",8)(12,"li",9),t._uU(13),t.ALo(14,"currency"),t.qZA()(),t.TgZ(15,"div"),t._UZ(16,"i",10)(17,"i",10)(18,"i",10)(19,"i",10),t.qZA(),t.TgZ(20,"div",11),t._uU(21,"34 reviews"),t.qZA(),t.TgZ(22,"button",12),t.NdJ("click",function(){return r.addToCart(r.product.pid)}),t._UZ(23,"i",13),t._uU(24," Add to cart "),t.qZA()()()),2&e&&(t.xp6(7),t.Q6J("routerLink",t.VKq(6,T,r.product.pid)),t.xp6(1),t.Oqu(r.product.title),t.xp6(2),t.hij(" ",r.product.category," "),t.xp6(3),t.hij(" ",t.lcZ(14,4,r.product.price)," "))},dependencies:[p.yS,a.H9],styles:[".card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.1875rem;min-height:100%}.card-img-actions[_ngcontent-%COMP%]{position:relative}.card-body[_ngcontent-%COMP%]{flex:1 1 auto;padding:1.25rem;text-align:center}.card-img[_ngcontent-%COMP%]{width:350px}.bg-cart[_ngcontent-%COMP%]{background-color:#d49113;color:#fff}.bg-cart[_ngcontent-%COMP%]:hover{color:#fff}a[_ngcontent-%COMP%]{text-decoration:none!important}"]}),o})();function y(o,c){if(1&o&&(t.TgZ(0,"div",5),t._UZ(1,"app-product-card",6),t.qZA()),2&o){const e=c.$implicit;t.xp6(1),t.Q6J("product",e)}}function A(o,c){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",7)(2,"button",8),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.changePage(-1))}),t._uU(3,"Anterior"),t.qZA(),t.TgZ(4,"p",9),t._uU(5),t.qZA(),t.TgZ(6,"button",8),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.changePage(1))}),t._uU(7,"Siguiente"),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("disabled",1===e.page),t.xp6(3),t.hij(" ","Page "+e.page+" de "+e.totalPages," "),t.xp6(1),t.Q6J("disabled",e.page===e.totalPages)}}let U=(()=>{class o{constructor(e){this.productService=e,this.totalPages=0,this.product=[],this.page=1,this.limit=6,this.productsSubscribe=new b.w0}ngOnInit(){this.getProducts()}getProducts(){this.productsSubscribe=this.productService.getProducts(this.limit,this.page).subscribe({next:e=>{this.product=e.payload,this.totalPages=e.totalPages}})}addProduct(e){this.productService.createProduct(e).subscribe({next:()=>{u().fire({icon:"success",title:"success...",text:"Producto Creado"})},error:r=>{u().fire({icon:"error",title:"Opss...",text:r})}})}changePage(e){this.totalPages>=this.page?this.page+=e:this.page-=e,this.page<=1&&(this.page=1),this.getProducts()}ngOnDestroy(){this.productsSubscribe.unsubscribe()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-list"]],decls:6,vars:2,consts:[[3,"sendProduct"],[1,"container","d-flex","justify-content-center"],[1,"row","g-3"],["class","col-3 col-md-4",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-3","col-md-4"],[3,"product"],[1,"d-flex","justify-content-between","w-100","mb-4","mt-3","align-items-center"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"text-muted","fw-light"]],template:function(e,r){1&e&&(t.TgZ(0,"app-product-creator",0),t.NdJ("sendProduct",function(d){return r.addProduct(d)}),t.qZA(),t._UZ(1,"hr"),t.TgZ(2,"div",1)(3,"div",2),t.YNc(4,y,2,1,"div",3),t.YNc(5,A,8,3,"ng-container",4),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("ngForOf",r.product),t.xp6(1),t.Q6J("ngIf",0!==r.product.length))},dependencies:[a.sg,a.O5,v,C]}),o})();var F=i(5698);function w(o,c){1&o&&(t.TgZ(0,"span",3),t._uU(1,"Online"),t.qZA())}function q(o,c){1&o&&(t.TgZ(0,"span",4),t._uU(1,"Ofline"),t.qZA())}let O=(()=>{class o{constructor(e){this.wbService=e}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(P))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-footer"]],decls:4,vars:2,consts:[[1,"p-2","bg-dark","text-white","text-right"],["class","text-success ms-1",4,"ngIf"],["class","text-danger ms-1",4,"ngIf"],[1,"text-success","ms-1"],[1,"text-danger","ms-1"]],template:function(e,r){1&e&&(t.TgZ(0,"footer",0),t._uU(1," server status: "),t.YNc(2,w,2,0,"span",1),t.YNc(3,q,2,0,"span",2),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",r.wbService.socketStatus),t.xp6(1),t.Q6J("ngIf",!r.wbService.socketStatus))},dependencies:[a.O5]}),o})();function L(o,c){if(1&o&&(t.TgZ(0,"div",4),t._UZ(1,"app-product-card",5),t.qZA()),2&o){const e=c.$implicit;t.xp6(1),t.Q6J("product",e)}}const I=[{path:"",component:U,children:[{path:"product/:id",component:(()=>{class o{constructor(e){this.activatedRoute=e}ngOnInit(){this.activatedRoute.params.subscribe({next:e=>{console.log(e)}})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-detail"]],decls:2,vars:0,template:function(e,r){1&e&&(t.TgZ(0,"p"),t._uU(1,"product-detail works!"),t.qZA())}}),o})(),data:{breadcrumb:o=>`${o.product.name}`},resolve:{product:l}}]},{path:"socket",component:(()=>{class o{constructor(e){this.productsService=e}ngOnInit(){this.productsList$=this.getProductsSocket()}getProductsSocket(){return this.productsService.getProductsSocket()}addProduct(e){this.productsService.createProduct(e).pipe((0,F.q)(1)).subscribe({next:()=>{u().fire({icon:"success",title:"success...",text:"Producto Creado en socket"})},error:r=>{u().fire({icon:"error",title:"Opss...",text:r})}})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-list-socket"]],decls:7,vars:3,consts:[[3,"sendProduct"],[1,"container","d-flex","justify-content-center"],[1,"row","g-3"],["class","col-3 col-md-4",4,"ngFor","ngForOf"],[1,"col-3","col-md-4"],[3,"product"]],template:function(e,r){1&e&&(t.TgZ(0,"app-product-creator",0),t.NdJ("sendProduct",function(d){return r.addProduct(d)}),t.qZA(),t._UZ(1,"hr"),t.TgZ(2,"div",1)(3,"div",2),t.YNc(4,L,2,1,"div",3),t.ALo(5,"async"),t.qZA()(),t._UZ(6,"app-footer")),2&e&&(t.xp6(4),t.Q6J("ngForOf",t.lcZ(5,1,r.productsList$)))},dependencies:[a.sg,O,v,C,a.Ov]}),o})(),data:{breadcrumb:"Socket"}}];let J=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.Bz.forChild(I),p.Bz]}),o})()}}]);